---
lang: zh-CN
title: 千机链
---

## 0.简介

[简易的脚本链式调用工具](https://github.com/OneDragon-Anything/OneDragon-ScriptChainer)

## 1.安装方式

从 [Github](https://github.com/OneDragon-Anything/OneDragon-ScriptChainer/releases) 中下载最新的 `OneDragon ScriptChainer-X.Y.Z.zip`，解压即可。

[访问Github和下载加速](../../other/zh/visit_github.md)

## 2.配置编辑

1. 运行 `OneDragon ScriptChainer Editor.exe`。
2. 新增 `脚本链`，多个脚本链可在运行时指定一个使用，见运行部分说明。
3. 增加 `脚本配置`，具体配置说明见下方。

### 2.1.脚本配置说明

- 脚本路径 - 选择你的脚本bat或者exe。
- 脚本进程名称 - 选择已有选项即可；或选择自定义填写。
- 游戏进程名称 - 选择已有选项即可；或选择自定义填写。
- 运行超时 - 为避免脚本异常卡死，必须设定。
- 检查完成方式 - 千机链以游戏进程或者脚本进程的关闭作为信号，认为运行结束，继续下一个脚本。
- 运行后关闭脚本 - 按需选择是否关闭当前脚本，如无特殊要求应开启，避免影响后续其他脚本。注意，如果运行超时又没有设置关闭脚本，则会出现多个脚本同时运行的情况。
- 运行后关闭游戏 - 按需选择是否关闭当前游戏，如无特殊要求应开启，避免影响后续其他游戏。注意，如果运行超时又没有设置关闭游戏，则会出现多个游戏同时运行的情况。
- 脚本启动参数 - 如果使用的脚本需要，则填入。

> 如何查看进程名称？
> 
> 任务管理器 -> 进程 -> 选择目标进程右键(部分需要展开后选择子进程右键) -> 转到详细信息 -> 右键属性复制名称。

### 2.2.运行逻辑说明

1. 千机链按顺序调用脚本，脚本自身应有能力唤起游戏窗口，并自动完成日常。
2. 脚本运行结束后，脚本应有能力关闭游戏或者关闭脚本；千机链以游戏进程或者脚本进程的关闭作为信号，认为运行结束，继续下一个脚本。
3. 单个脚本运行结束后，千机链按需关闭对应的脚本进程和游戏进程。注意：所有同名进程都会被关闭。
4. 所有脚本运行结束后，判断是否需要关机。

### 2.3.常见脚本配置

#### 绝区零/崩坏：星穹铁道 一条龙

- 脚本路径 - 选择对应的 `OneDragon Scheduler.exe`。
- 脚本进程名称 - 选择 `一条龙` 即可。注意，一条龙的本质是调用 `pythonw.exe` 运行源码；如果你不是一键安装运行，则需要选择自定义填入你使用的python。
- 游戏进程名称 - 选择对应选项即可。
- 运行超时 - 按需设置
- 检查完成方式 - 选择 `游戏被关闭`。一条龙脚本中设置 `运行后关闭游戏`。
- 脚本启动参数 - 无

#### 原神 BetterGI

- 脚本路径 - 选择对应的 `BetterGI.exe`。
- 脚本进程名称 - 选择 `BetterGI` 即可。
- 游戏窗口名称 - 选择对应选项即可。
- 运行超时 - 按需设置。
- 检查完成方式 - 选择 `游戏被关闭`。目前BGI无法运行后关闭游戏，因此只能使用超时来关闭。
- 脚本启动参数 - 填入 `startOneDragon`

## 3.运行

### 3.1.手动触发

1. 右键 `OneDragon ScriptChainer Runner.exe` -> 发送到 -> 桌面快捷方式。
2. 右键 `桌面快捷方式` -> 属性 -> 目标 -> 末尾增加启动参数（注意和前方有空格分隔） ` --chain 1` （数字1可替换成对应的脚本链编号）。
3. 双击 `桌面快捷方式` 运行。


### 3.2.定时运行

[参考](../../other/zh/windows_plan.md) 设置Windows任务计划程序

- 如果你选择的是 `OneDragon ScriptChainer Runner.exe` 本体，则需要在 `添加参数` 中填写 `--chain 1` （数字1可替换成对应的脚本链编号）。
- 如果你选址的是快捷方式，则可以在快捷方式中填写启动参数。

### 3.3.其他参数

注意，多个参数之间需要用空格分隔。

- 结束后关机 - `--shutdown`

## 4.更多

问题反馈请到 [Github Issue](https://github.com/OneDragon-Anything/OneDragon-ScriptChainer/issues)

欢迎提供更多常用脚本的配置方式加入到默认选项中。
