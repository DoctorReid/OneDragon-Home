---
lang: zh-CN
title: 基础-03-操作指令数组
---

## 1.基础用法

操作指令数组(operations) ，是一个数组，数组中的元素是具体的操作指令。

脚本会按顺序执行数组中的所有指令。

### 1.1.操作指令

```yaml
operations:
  - op_name: "按键-普通攻击"
    post_delay: 0.2
```

每个操作指令，会包含以下属性

- 指令名称(op_name) - 用于告诉脚本，需要执行的具体指令是什么。
- 指令参数 - 每个指令可以使用的指令参数不同，具体见下述枚举。

### 1.2.操作指令枚举

|指令名称 (op_name)|参数|备注|
|---|---|---|
|按键-闪避|pre_delay - 按键前等待秒数(数字) 默认0<br> post_delay - 按键后等待秒数(数字) 默认0<br>way - 按键方式(点按、按下、松开) 默认点按<br>press - 按下秒数(数字) 不填代表不自动松开<br>repeat - 重复次数(数字) 默认1|
|按键-切换角色-下一个|同 `按键-闪避`|
|按键-切换角色-上一个|同 `按键-闪避`|
|按键-切换角色|agent_name - 需要切换的角色名称<br/>pre_delay - 按键前等待秒数(数字) 默认0<br> post_delay - 按键后等待秒数(数字) 默认0|仅平时切换，或者招架支援、极限支援时使用；连携技、快速支援时不要使用。<br/>注意按键后触发的状态是 `按键-切换角色-下一个` 或者 `按键-切换角色-上一个`|
|按键-普通攻击|同 `按键-闪避`|
|按键-特殊攻击|同 `按键-闪避`|
|按键-终结技|同 `按键-闪避`|
|按键-连携技-左|同 `按键-闪避`|
|按键-连携技-右|同 `按键-闪避`|
|按键-连携技-取消|同 `按键-闪避`|这个按键比较怪，需要按下一段时间才有效|
|按键-快速支援|pre_delay - 按键前等待秒数(数字) 默认0<br> post_delay - 按键后等待秒数(数字) 默认0|快速支援请使用这个指令切换角色，可以让脚本识别的角色保持正确。<br/>注意按键后触发的状态是 `按键-切换角色-下一个` 或者 `按键-切换角色-上一个`|
|按键-移动-前|同 `按键-闪避`|
|按键-移动-后|同 `按键-闪避`|
|按键-移动-左|同 `按键-闪避`|
|按键-移动-右|同 `按键-闪避`|
|按键-锁定敌人|同 `按键-闪避`|
|等待秒数|seconds - 秒数(数字) 默认0||
|设置状态|state - 需要设置的状态名称<br>state_list - 需要设置的状态名称列表，传入时state不生效<br/>seconds - 状态触发距离当前时间的偏移秒数，默认0(当前)<br>value - 需要设置的状态值(整数)，默认无<br>add - 对当前状态值进行增加(整数)，value存在时不生效，默认无|
|清除状态|state - 需要清除的状态名称<br>state_list - 需要清除的状态名称列表，传入时state不生效|


### 1.3.更多例子

<details>
<summary> 更多例子 </summary>

#### 例子1

```yaml
operations:
  - op_name: "按键-闪避"
    post_delay: 0.2
  - op_name: "按键-普通攻击"
    post_delay: 0.2
    repeat: 5
```

1次闪避后，按键-普通攻击后等待0.2秒，重复5次。

#### 例子2

```yaml
operations:
  - op_name: "按键-移动-前"
    way: "按下"
  - op_name: "等待秒数"
    seconds: "0.2"
  - op_name: "按键-闪避"
    post_delay: 0.1
  - op_name: "按键-普通攻击"
  - op_name: "按键-移动-前"
    way: "松开"
```

往前闪A

</details>


